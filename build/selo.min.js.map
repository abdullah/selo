{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2faa8610b02ec3edb10e","webpack:///./selo.js","webpack:///./helpers.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA,EAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mEAAkE,sBAAsB;AACxF;;;AAGA,mBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA,cAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;;AAEf;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT,QAAO;;AAEP;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA,iDAAgD;AAChD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;;AAGA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF,GAAE;AACF;AACA;;;;AAIA,EAAC,G;;;;;;;;;;AChLD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,E","file":"selo.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Selo\"] = factory();\n\telse\n\t\troot[\"Selo\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2faa8610b02ec3edb10e\n **/","/*\n* 28 August 2016 Abdullah Mara  @abdullah\n*/\n\nvar getParents = require('./helpers')\n\n;(function () {\n\t\n\tfunction Selo(props) {\n\t\tif (!props.els) {\n        \n        var log = props.log != undefined ? props.log : true\n\n        if (log) {\n          console.log(\"[El parameters] is not defined, this element set as body  \")\n        }\n\t\t}\n\n\t\tif (!document) {\n\t\t\tthrow \"[Platfrom] not supported\"\n\t\t}\n\n\t\tthis._arena      = null;\n\t\tthis.selection  = null;\n\t\tthis.els         = props.els || document.body;\n\n\t\tthis.init()\n\t}\n\n\tSelo.prototype.init = function () {\n\t\tthis._arena = this.els;\n\t\tthis.selection = window.getSelection()\n\n\t\tthis.attachEvent();\n\t}\n\n\tSelo.prototype.attachEvent = function () {\n\n       var selectionEndTimeout = null,\n          endEvent            = new CustomEvent('selectionEnd'),\n          startEvent          = new CustomEvent('selectionStart',{detail:this.selection}),\n          beforeStartEvent    = new CustomEvent('selectionBeforeStart');\n            \n\n      var map =  {65: false, 91: false};\n      \n      var listener = [\n        \"mouseup\",\n        \"selectionchange\",\n        \"keyup\",\n        \"keydown\"\n      ].map(function(e) {\n        document.addEventListener(e.toString(), function(evt/*event*/) {\n          \n\n          if (evt.type != \"selectionchange\" && evt.type != \"mouseup\") {\n\n            if (evt.type == \"keydown\") {\n              map[evt.keyCode] = true\n\n            }else{\n              \n              if (map[65] && map[91] ) {\n                if (this.hasText()) {\n                  document.dispatchEvent(endEvent);\n                }\n              }\n\n              Object.keys(map).map(function(e){\n                map[e] = false\n              })\n\n            }\n\n          }\n\n\n          if (evt.type == \"selectionchange\") {\n            if (this.selection.type == \"Range\") {\n              if (this.hasText()) {\n                  document.dispatchEvent(startEvent);\n              }\n            }else{\n                if (this.inArena()) {\n                  document.dispatchEvent(beforeStartEvent);\n                }\n            }\n            clearTimeout(selectionEndTimeout);\n          }\n\n          selectionEndTimeout = setTimeout(function(){\n              if (evt.type == \"mouseup\" && this.hasText()) {\n                  document.dispatchEvent(endEvent);\n              }\n          }.bind(this), 100);\n        }.bind(this))\n      }.bind(this))\n\n    }\n\t\n\t\n\tSelo.prototype.hasText = function () {\n      if (this.inArena()) {\n        return  this.selection.toString() != \"\"\n      }\n      return false\n    }\n\n    Selo.prototype.inArena = function () {\n      var _arena = document.querySelectorAll(this._arena)\n      \n      if (this.selection.focusNode) {\n\n        var parents = getParents(this.selection.focusNode.parentNode);\n        var tmp = false\n\n        Object.keys(_arena).map(e => {\n          if (parents.indexOf(_arena[e]) != -1) {\n            tmp = true\n          }\n        })\n\n        return tmp;\n      }\n      return false\n    }\n\n    Selo.prototype.getPositionRange = function () {\n      \n      var oRange = this.selection.getRangeAt(0); //get the text range\n      var oRect = oRange.getBoundingClientRect();\n\n      var bound = {};\n\n      bound[\"left\"] =  oRect.left\n      bound[\"top\"] =  oRect.top\n      bound[\"getBoundingClientRect\"] = oRect;\n      return  bound\n    }\n    \n    Selo.prototype.saveSelection = function ()  {\n        if (window.getSelection) {\n            var sel = window.getSelection();\n            if (sel.getRangeAt && sel.rangeCount) {\n                return sel.getRangeAt(0);\n            }\n        } else if (document.selection && document.selection.createRange) {\n            return document.selection.createRange();\n        }\n        return null;\n    }\n\n    Selo.prototype.restoreSelection  = function (range) {\n        if (range) {\n            if (window.getSelection) {\n                var sel = window.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n            } else if (document.selection && range.select) {\n                range.select();\n            }\n        }\n    }\n\n\n\tif (typeof exports == \"object\") {\n\t\tmodule.exports = Selo\n\t} else if (typeof define == \"function\" && define.amd) {\n\tdefine([], function () {\n\t\treturn Selo\n\t})\n\t} else if (window.Vue) {\n\t\twindow.Selo = Selo\n\t}\n\n\n\n})()\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./selo.js\n ** module id = 0\n ** module chunks = 0\n **/","\nmodule.exports = function getParents(el) {\n  var a = el;\n  var parents = [];\n  \n  while (a) {\n      parents.unshift(a);\n      a = a.parentNode;\n  }\n  return parents;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./helpers.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}