!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Selo=t():e.Selo=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o=n(1);!function(){function t(e){if(!e.els){var t=void 0==e.log||e.log;t&&console.log("[El parameters] is not defined, this element set as body  ")}if(!document)throw"[Platfrom] not supported";this._arena=null,this.selection=null,this.els=e.els||document.body,this.init()}t.prototype.init=function(){this._arena=this.els,this.selection=window.getSelection(),this.attachEvent()},t.prototype.attachEvent=function(){var e=null,t=new CustomEvent("selectionEnd"),n=new CustomEvent("selectionStart",{detail:this.selection}),o=new CustomEvent("selectionBeforeStart"),i={65:!1,91:!1,37:!1,38:!1,39:!1,40:!1,16:!1};["mouseup","selectionchange","keyup","keydown"].map(function(s){document.addEventListener(s.toString(),function(s){"selectionchange"!=s.type&&"mouseup"!=s.type&&("keydown"==s.type?i[s.keyCode]=!0:i[65]&&i[91]?this.hasText()&&document.dispatchEvent(t):(i[16]&&i[37]||i[16]&&i[38]||i[16]&&i[39]||i[16]&&i[40])&&this.hasText()&&document.dispatchEvent(t)),"selectionchange"==s.type&&("Range"==this.selection.type?this.hasText()&&document.dispatchEvent(n):this.inArena()&&document.dispatchEvent(o),clearTimeout(e)),e=setTimeout(function(){"mouseup"==s.type&&this.hasText()&&document.dispatchEvent(t)}.bind(this),100)}.bind(this))}.bind(this))},t.prototype.hasText=function(){return!!this.inArena()&&""!=this.selection.toString()},t.prototype.inArena=function(){var e=document.querySelectorAll(this._arena);if(this.selection.focusNode){var t=o(this.selection.focusNode.parentNode),n=!1;return Object.keys(e).map(function(o){t.indexOf(e[o])!=-1&&(n=!0)}),n}return!1},t.prototype.getPositionRange=function(){var e=this.selection.getRangeAt(0),t=e.getBoundingClientRect(),n={};return n.left=t.left,n.top=t.top,n.getBoundingClientRect=t,n},t.prototype.saveSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},t.prototype.restoreSelection=function(e){if(e)if(window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}else document.selection&&e.select&&e.select()},e.exports=t}()},function(e,t){e.exports=function(e){for(var t=e,n=[];t;)n.unshift(t),t=t.parentNode;return n}}])});